(function(e){var b=e.telerik;var f={"190":".","110":".","188":","};var a=[8,9,37,38,39,40,46,35,36,44];b.textbox=function(j,h){this.element=j;e.extend(this,h);var o=new b.stringBuilder();o.cat("[ |").cat(this.groupSeparator).catIf("|"+this.symbol,this.symbol).cat("]");this.replaceRegExp=new RegExp(o.string(),"g");var i=e.browser.msie?"paste":"input";var k=e(".t-input",j);var l=k.attr("value");e("<input>",{id:k.attr("id")+"-text",name:k.attr("name")+"-text","class":k.attr("class"),value:(l||this.text),style:k.attr("style")}).bind({blur:b.delegate(this,this.blur),focus:b.delegate(this,this.focus),keydown:b.delegate(this,this.keydown),keypress:b.delegate(this,this.keypress),change:function(p){p.stopPropagation();return false}}).bind(i,b.delegate(this,this[i])).insertBefore(k);k.hide().appendTo(j);var n=e(".t-arrow-up, .t-arrow-down",j).bind({mouseup:b.delegate(this,this.clearTimer),mouseout:b.delegate(this,this.clearTimer),click:b.preventDefault,dragstart:b.preventDefault,dblclick:b.delegate(this,this.clearTimer)});e(n[0]).mousedown(e.proxy(function(p){this.updateState();this.stepper(p,1)},this));e(n[1]).mousedown(e.proxy(function(p){this.updateState();this.stepper(p,-1)},this));this.numFormat=this.numFormat===undefined?this.type.charAt(0):this.numFormat;var m=this.separator;this.step=this.parse(this.step,m);this.val=this.parse(this.val,m);this.minValue=this.parse(this.minValue,m);this.maxValue=this.parse(this.maxValue,m);if(l!=""){this.value(l)}b.bind(this,{change:this.onChange,load:this.onLoad})};b.textbox.prototype={enable:function(){e(".t-input:first",this.element).first().attr("disabled",false);var h=e(".t-icon",this.element);e(h[0]).mousedown(e.proxy(function(i){this.updateState();this.stepper(i,1)},this));e(h[1]).mousedown(e.proxy(function(i){this.updateState();this.stepper(i,-1)},this))},disable:function(){e(".t-input:first",this.element).first().attr("disabled",true);e(".t-icon",this.element).unbind("mousedown")},updateState:function(){var h=e("> .t-input:first",this.element).val();if(this.val!=h.replace(this.replaceRegExp,"")){this.parseTrigger(h)}},input:function(j,i){var k=e(i).val();if(k=="-"){return true}var h=this.parse(k,this.separator);if(h||h==0){this.trigger(this.round(h,this.digits))}},paste:function(l,k){var j=e(k);var m=j.val();var i=k.document.selection.createRange().text;var n=window.clipboardData.getData("Text");if(i>0){m=m.replace(i,n)}else{m+=n}var h=this.parse(m,this.separator);if(h||h==0){this.trigger(this.round(h,this.digits))}},focus:function(j,i){this.focused=true;this.updateState();var h=this.formatEdit(this.val);e(i).val(h||(h==0?0:""));if(!e.browser.safari){i.select()}},blur:function(j){var h=e(j.target);this.focused=false;var i=h.val();if(!i&&i!="0"||!this.val&&this.val!=0){this.value(null);h.removeClass("t-state-error").val(this.text||"");return true}else{if(this.inRange(this.val,this.minValue,this.maxValue)){h.removeClass("t-state-error").val(this.format(this.val))}else{h.addClass("t-state-error")}}},keydown:function(l,k){var i=l.keyCode;var j=e(k);var m=this.separator;var h=f[i];if(h){if(h==m&&this.digits>0&&b.caretPos(j[0])!=0&&j.val().indexOf(m)==-1){return true}else{l.preventDefault()}}if(i==8||i==46){setTimeout(b.delegate(this,function(){this.parseTrigger(j.val())}));return true}if(i==38||i==40){this.modifyInput(j,this.step*(i==38?1:-1));return true}if(i==222){l.preventDefault()}},keypress:function(j){var i=e(j.target);var h=j.keyCode||j.which;if(h==0||e.inArray(h,a)!=-1||j.ctrlKey||(j.shiftKey&&h==45)){return true}if(((this.minValue!==null?this.minValue<0:true)&&String.fromCharCode(h)=="-"&&b.caretPos(i[0])==0&&i.val().indexOf("-")==-1)||this.inRange(h,48,57)){setTimeout(b.delegate(this,function(){this.parseTrigger(i.val())}));return true}j.preventDefault()},clearTimer:function(h){clearTimeout(this.timeout);clearInterval(this.timer);clearInterval(this.acceleration)},stepper:function(k,h){if(k.which==1){var j=e(".t-input:first",this.element);var i=this.step;this.modifyInput(j,h*i);this.timeout=setTimeout(b.delegate(this,function(){this.timer=setInterval(b.delegate(this,function(){this.modifyInput(j,h*i)}),80);this.acceleration=setInterval(function(){i+=1},1000)}),200)}},value:function(h){if(arguments.length==0){return this.val}var j=(typeof h===typeof 1)?h:this.parse(h,this.separator);var i=j===null;this.val=j;e(".t-input:last",this.element).val(i?"":this.formatEdit(j));e(".t-input:first",this.element).toggleClass("t-state-error",!this.inRange(this.val,this.minValue,this.maxValue)).val(i?this.text:this.format(j));return this},modifyInput:function(j,i){var h=this.val;var k=this.minValue;var m=this.maxValue;h=h?h+i:i;h=(k!==null&&h<k)?k:(m!==null&&h>m)?m:h;var n=this.round(h,this.digits);this.trigger(n);var l=this.focused?this.formatEdit(n):this.format(n);j.removeClass("t-state-error").val(l)},formatEdit:function(h){var i=this.separator;if(h&&i!="."){h=h.toString().replace(".",i)}return h},format:function(h){return b.textbox.formatNumber(h,this.numFormat,this.digits,this.separator,this.groupSeparator,this.groupSize,this.positive,this.negative,this.symbol,true)},trigger:function(h){if(this.val!=h){if(b.trigger(this.element,"change",{oldValue:this.val,newValue:h})){return}e(".t-input:last",this.element).val(this.formatEdit(h));this.val=h}},parseTrigger:function(h){this.trigger(this.round(this.parse(h,this.separator),this.digits))},inRange:function(h,i,j){return(i!==null?h>=i:true)&&(j!==null?h<=j:true)},parse:function(h,i){var j=null;if(h||h=="0"){if(typeof h==typeof 1){return h}h=h.replace(this.replaceRegExp,"");if(i&&i!="."){h=h.replace(i,".")}j=parseFloat(h)}return isNaN(j)?null:j},round:function(h,i){if(h||h==0){return parseFloat(h.toFixed(i||2))}return null}};e.fn.tTextBox=function(j){var i=j.type;var h=e.fn.tTextBox.defaults[i];h.digits=b.cultureInfo[i+"decimaldigits"];h.separator=b.cultureInfo[i+"decimalseparator"];h.groupSeparator=b.cultureInfo[i+"groupseparator"];h.groupSize=b.cultureInfo[i+"groupsize"];h.positive=b.cultureInfo[i+"positive"];h.negative=b.cultureInfo[i+"negative"];h.symbol=b.cultureInfo[i+"symbol"];j=e.extend({},h,j);return this.each(function(){var k=e(this);j=e.meta?e.extend({},j,k.data()):j;if(!k.data("tTextBox")){k.data("tTextBox",new b.textbox(this,j));b.trigger(this,"load")}})};e.fn.tTextBox.defaults={numeric:{val:null,minValue:-100,maxValue:100,text:"",step:1},currency:{val:null,minValue:0,maxValue:1000,text:"",step:1},percent:{val:null,minValue:0,maxValue:100,text:"",step:1}};e.fn.tTextBox.patterns={numeric:{negative:["(n)","-n","- n","n-","n -"]},currency:{positive:["*n","n*","* n","n *"],negative:["(*n)","-*n","*-n","*n-","(n*)","-n*","n-*","n*-","-n *","-* n","n *-","* n-","* -n","n- *","(* n)","(n *)"]},percent:{positive:["n *","n*","*n"],negative:["-n *","-n*","-*n"]}};if(!b.cultureInfo.numericnegative){e.extend(b.cultureInfo,{currencydecimaldigits:2,currencydecimalseparator:".",currencygroupseparator:",",currencygroupsize:3,currencynegative:0,currencypositive:0,currencysymbol:"$",numericdecimaldigits:2,numericdecimalseparator:".",numericgroupseparator:",",numericgroupsize:3,numericnegative:1,percentdecimaldigits:2,percentdecimalseparator:".",percentgroupseparator:",",percentgroupsize:3,percentnegative:0,percentpositive:0,percentsymbol:"%"})}var g=/[0#?]/;function d(h){return h.split("").reverse().join("")}function c(n,u,m){var h=0,k=0;var l=u.length;var v=n.length;var s=new b.stringBuilder();while(h<l&&k<v&&u.substring(h).search(g)>=0){if(u.charAt(h).match(g)){s.cat(n.charAt(k));k++}else{s.cat(u.charAt(h))}h++}s.catIf(n.substring(k),k<v&&m).catIf(u.substring(h),h<l);var p=d(s.string());var r=p.indexOf("0");var q=p.indexOf("#");if(q!=-1){if(r!=-1){var t=p.slice(0,r);var o=p.slice(r,p.length);p=t.replace("#","")+o.replace("#","0")}else{p=p.replace("#","")}}return m?p:d(p)}b.textbox.formatNumber=function(E,k,L,l,y,n,x,v,B,O){if(!k){return E}var i,F,K,P;var q=E<0;k=k.split(":");k=k.length>1?k[1].replace("}",""):k[0];var h=k.search(g)!=-1;if(h){k=k.split(";");F=k[0];K=k[1];P=k[2];k=(q&&K?K:F).indexOf("%")!=-1?"p":"n"}switch(k){case"d":case"D":return Math.round(E).toString();case"c":case"C":i="currency";break;case"n":case"N":i="numeric";break;case"p":case"P":i="percent";if(!O){E=Math.abs(E)*100}break;default:return E.toString()}var Q=function(T,R,S){for(var U=T.length;U<R;U++){T=S?("0"+T):(T+"0")}return T};var u=function(U,S,T){if(y){var R=new RegExp("(-?[0-9]+)([0-9]{"+T+"})");while(R.test(U)){U=U.replace(R,"$1"+S+"$2")}}return U};var A=A||b.cultureInfo;var J=e.fn.tTextBox.patterns;var j;L=L||L===0?L:A[i+"decimaldigits"];l=l!==j?l:A[i+"decimalseparator"];y=y!==j?y:A[i+"groupseparator"];n=n||n==0?n:A[i+"groupsize"];v=v||v===0?v:A[i+"negative"];x=x||x===0?x:A[i+"positive"];B=B||A[i+"symbol"];var t,o,D;if(h){var G=(q&&K?K:F).split(".");var r=G[0];var N=G.length>1?G[1]:"";var p=b.lastIndexOf(N,"0");var M=b.lastIndexOf(N,"#");var L=(M>p?M:p)+1}var C=Math.pow(10,L);var I=(Math.round(E*C)/C);E=isFinite(I)?I:E;var z=E.toString().split(/e/i);t=z.length>1?parseInt(z[1]):0;z=z[0].split(".");o=z[0];o=q?o.replace("-",""):o;D=z.length>1?z[1]:"";if(t){if(!q){D=Q(D,t,false);o+=D.slice(0,t);D=D.substr(t)}else{o=Q(o,t+1,true);D=o.slice(t,o.length)+D;o=o.slice(0,t)}}var w=D.length;if(L<1||(h&&p==-1&&w===0)){D=""}else{D=w>L?D.slice(0,L):Q(D,L,false)}var s;if(h){o=c(d(o),d(r),true);o=r.indexOf(",")!=-1?u(o,y,n):o;D=D&&N?c(D,N):"";s=E===0&&P?P:(q&&!K?"-":"")+o+(D.length>0?l+D:"")}else{o=u(o,y,n);J=J[i];var H=q?J.negative[v]:B?J.positive[x]:null;var m=o+(D.length>0?l+D:"");s=H?H.replace("n",m).replace("*",B):m}return s};e.extend(b.formatters,{number:b.textbox.formatNumber})})(jQuery);