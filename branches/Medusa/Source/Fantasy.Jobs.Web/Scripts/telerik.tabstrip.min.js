(function(b){var a=b.telerik;b.extend(a,{tabstrip:function(g,h){this.element=g;var d=b(g);b.extend(this,h);var c=".t-tabstrip-items > .t-item:not(.t-state-disabled)";d.delegate(c,"mouseenter",a.hover).delegate(c,"mouseleave",a.leave).delegate(c,h.activateEvent,a.delegate(this,this._click)).delegate("> .t-reset > .t-item.t-state-disabled > .t-link","click",a.preventDefault);a.bind(this,{select:b.proxy(function(i){if(i.target==this.element&&this.onSelect){this.onSelect(i)}},this),error:this.onError,load:this.onLoad});var e=d.find("li.t-state-active");var f=this.getContentElement(d.find("> .t-content"),e.parent().children().index(e));if(f&&f.length>0&&f.children().length==0){this.activateTab(e.eq(0))}}});b.extend(a.tabstrip.prototype,{select:function(c){b(c).each(b.proxy(function(f,e){var d=b(e);if(d.is(".t-state-disabled,.t-state-active")){return}this.activateTab(d)},this))},enable:function(c){b(c).addClass("t-state-default").removeClass("t-state-disabled")},disable:function(c){b(c).removeClass("t-state-default").removeClass("t-state-active").addClass("t-state-disabled")},reload:function(c){var d=this;var e=b("> .t-content",this.element);b(c).each(function(){var f=b(this);var g=f.find(".t-link").data("ContentUrl");if(g){d.ajaxRequest(f,d.getContentElement(e,f.index()),null,g)}})},_click:function(i,h){var g=b(h);var f=g.find(".t-link");var c=f.attr("href");var j=b(this.getContentElement(b("> .t-content",this.element),g.parent().children().index(g)));if(g.is(".t-state-disabled,.t-state-active")){i.preventDefault();return}if(a.trigger(this.element,"select",{item:g[0],contentElement:j[0]})){i.preventDefault()}var d=(c&&(c.charAt(c.length-1)=="#"||c.indexOf("#"+this.element.id+"-")!=-1));if(d||(j.length>0&&j.children().length==0)||j.length==0){i.preventDefault()}else{return}if(this.activateTab(g)){i.preventDefault()}},activateTab:function(d){var h=d.parent().children().removeClass("t-state-active").addClass("t-state-default").index(d);d.removeClass("t-state-default").addClass("t-state-active");var f=d.parent().parent().find("> .t-content");if(f.length>0){var g=f.filter(".t-state-active");var i=this.getContentElement(f,h);var j=this;if(!i){g.removeClass("t-state-active");a.fx.rewind(j.effects,g,{});return false}var c=b.trim(i.html()).length==0;var e=function(){i.addClass("t-state-active");a.fx.play(j.effects,i,{})};g.removeClass("t-state-active").stop(false,true);a.fx.rewind(j.effects,g,{},function(){if(d.hasClass("t-state-active")){if(!c){e()}else{if(c){j.ajaxRequest(d,i,function(){if(d.hasClass("t-state-active")){e()}})}}}});return true}return false},getContentElement:function(c,e){var g=new RegExp("-"+(e+1)+"$");for(var f=0,d=c.length;f<d;f++){if(g.test(b(c[f]).attr("id"))){return b(c[f])}}},ajaxRequest:function(d,j,c,f){var i=this;var h=null;var e=setTimeout(function(){h=b('<span class="t-icon t-loading"></span>').prependTo(d.find(".t-link"))},100);var g={};b.ajax({type:"GET",cache:false,url:f||d.find(".t-link").attr("href"),dataType:"html",data:g,error:b.proxy(function(l,k){if(a.ajaxError(this.element,"error",l,k)){return}},this),complete:function(){clearTimeout(e);if(h!==null){h.remove()}},success:b.proxy(function(n,k){j.html(n);var l=d.find(".t-link");var m=l.attr("href");if(m&&m!="#"){l.data("ContentUrl",m).attr("href","#")}if(c){c.call(i,j)}},this)})}});b.fn.tTabStrip=function(c){return a.create(this,{name:"tTabStrip",init:function(d,e){return new a.tabstrip(d,e)},options:c})};b.fn.tTabStrip.defaults={activateEvent:"click",effects:a.fx.toggle.defaults()}})(jQuery);