@model Fantasy.BusinessEngine.BusinessObject

@{
    
    Html.HtmlAssets().AddScript(this.Url.Content("~/Scripts/fantasy/jquery.editingview.js"));
     Html.HtmlAssets().AddScript(this.Url.Content("~/Scripts/standardscalar/default.js"));
    
    
     string id = "form_" + Guid.NewGuid().ToString("N");
     this.Html.HtmlAssets().AddStartupScript(String.Format("$('#{0} > div:first').buttonset();", id));
    

     
}

@using (this.Ajax.BeginAppViewForm(new AjaxOptions(), action:"Save", htmlAttributes:new {id=id}))
{

    this.Html.BusinessObjectRender(this.Model, "#" + id);                                         
    
    <div><button type="submit" data-bind="enable: entityState() != 'clean'">Save</button> @this.Ajax.ScalarViewLink("Delete", this.Model.Id, action: "Delete", htmlAttributes: new System.Web.Routing.RouteValueDictionary() { { "data-bind", "enable: acl.deletable"} })</div>
      
@this.Html.PropertyGrid().BindModel(this.Model)

}

@{
    this.Html.HtmlAssets().AddStartupScript(String.Format("stdscalar.bindview('{0}', '{1}');", id, this.Model.Id));
}


