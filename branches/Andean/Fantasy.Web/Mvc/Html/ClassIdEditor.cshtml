@inherits Fantasy.Web.Mvc.Html.BusinessPropertyEditorBase
@using Fantasy;
@using Fantasy.BusinessEngine
@using Fantasy.BusinessEngine.Services
@{
    this.Html.HtmlAssets().AddStyleSheet(this.Url.ThemedContent("~/Content/themes/{0}/editors/classideditor.css"));
    IObjectModelService svc = BusinessEngineContext.Current.GetRequiredService<IObjectModelService>(); 
    BusinessClass cls = svc.FindBusinessClass(this.Model.Object.ClassId);
    
}
@if(this.PropertyDescriptor.CanRead || this.Model.Accessbility != Fantasy.Web.Accessbility.Collapse)
{

<span @WriteAttributes() data-bind="visibility: acl.ClassId">
    
    @if (this.PropertyDescriptor.CanRead)
    {
         @cls.Name
    }
    
</span> 
}

@functions
{
    protected override void PreExecute()
    {
        this.AddClass("classid-editor");
        base.PreExecute();
    }
}
